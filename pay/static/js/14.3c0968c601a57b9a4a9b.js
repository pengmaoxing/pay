webpackJsonp([14],{"09BF":function(t,e){},KELa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("CJJO"),n={data:function(){return{htmlProportion:"",htmlWidth:"",htmlheight:"",isWxPay:!0,price:"",timeStamp:"",orderNumber:"",userId:"",storeId:"",merchantId:"",advertisementStyle:{background:"",width:"",height:"",backgroundSize:"100% 100%"},imageId:"",id:"",imageLink:"",type:""}},created:function(){this.htmlWidth=document.documentElement.clientWidth||document.body.clientWidth,this.htmlheight=document.documentElement.clientHeight||document.body.clientHeight,this.htmlProportion=this.htmlWidth/750,console.log(this.htmlWidth),console.log(this.htmlheight),console.log("适配后的广告宽高"),console.log(this.htmlWidth/1080*1920),this.advertisementStyle.width=this.htmlWidth+"px",this.advertisementStyle.height=this.htmlWidth/1080*1920+"px";var t=this.$route.query.userId;null!=t&&""!=t&&t&&(this.userId=t);var e=this.$route.query.storeId;null!=e&&""!=e&&e&&(this.storeId=e);var i=this.$route.query.merchantId;null!=i&&""!=i&&i&&(this.merchantId=i);var o=this.$route.query.price;null!=o&&""!=o&&o&&(this.price=o);var n=this.$route.query.timeStamp;null!=n&&""!=n&&n&&(this.timeStamp=n);var r=this.$route.query.orderNumber;null!=r&&""!=r&&r&&(this.orderNumber=r)},mounted:function(){var t=this;Object(o.c)(2,this.userId,this.storeId,this.merchantId).then(function(e){console.log("广告状态"),console.log(e),0!=e.obj.length?(t.type=e.obj[0].type,t.imageId=e.obj[0].imageId,t.imageLink=e.obj[0].imageLink,t.id=e.obj[0].id,3==t.type?(console.log("直接跳转"),window.location.href=t.imageLink,Object(o.b)(t.id,1).then(function(t){console.log(t)})):2==t.type?(console.log("有图片，不可点击"),console.log(t.imageId),t.getPic(),Object(o.b)(t.id,2).then(function(t){console.log(t)})):1==t.type&&(console.log("有图片点击跳转"),console.log(t.imageLink),t.getPic(),Object(o.b)(t.id,2).then(function(t){console.log(t)}))):t.$router.push({path:"/zfb/paySuccessYes",query:{price:t.price,timeStamp:t.timeStamp,orderNumber:t.orderNumber}})})},methods:{jumpLink:function(){1==this.type&&(this.ifGetUrl(),Object(o.b)(this.id,3).then(function(t){console.log(t)}),window.location.href=this.imageLink)},ifGetUrl:function(){this.imageLink.substr(0,7).toLowerCase(),this.imageLink},getPic:function(){var t=o.a+"/fms/upload/resource/"+this.imageId;this.advertisementStyle.background="url('"+t+"') no-repeat center center",this.advertisementStyle.backgroundSize="100%",console.log(t)}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("div",{staticClass:"lf-advertisement",style:this.advertisementStyle,on:{click:this.jumpLink}})])},staticRenderFns:[]};var s=i("C7Lr")(n,r,!1,function(t){i("09BF")},null,null);e.default=s.exports}});